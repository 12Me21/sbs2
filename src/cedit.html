<!doctype html>
<meta charset=utf-8>

<style>
	html {
		white-space: pre-wrap;
	}
	#\$out {
		border: 3px solid red;
	}
	#\$hell {
		border: 10px solid black;
	}
	#\$hell > div {
		border: none;
		border-left: 4px solid red;
		outline: red solid 3px;
	}
	body {
		display: flex;
	}
	body > * {
		flex-grow: 1;
		flex-basis: 0;
	}
	/*girl touhou green hair red vest hugging sleeping near girl dark black hair black dress red blue tendrils*/

</style>
<div contenteditable id=$hell><div>a</div><div><br></div><div>b<br></div></div>
<div id=$out></div>
<script>
	$hell.oninput = ()=>{
		// 1->1
		// 2->1
		// 3->2
		// 4->2
		// 5->3
		let x = $hell.innerText
		x = x.replace(/\n$/, "")
		x = x.replace(/\n\n/gm, "\n")
		// \n\n -> \n
		// \n$
		console.log(x.replace(/\n/g, "@"))
		$out.textContent = x.replace(/^/mg, "ðŸŸ§")+"ðŸ”¸"
		$out.textContent += "\n"+$hell.innerHTML
	}
	$hell.oninput()
</script>
